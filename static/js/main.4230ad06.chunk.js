(this["webpackJsonpmy-tvdb-app"]=this["webpackJsonpmy-tvdb-app"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var s,r,n,c=a(1),i=a.n(c),o=a(8),l=a.n(o),d=a(2),h=a(3),f=a(5),u=a(4),m=a(0),v=function(e){Object(f.a)(a,e);var t=Object(u.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"card-body d-flex flex-column justify-content-between",children:[Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+this.props.imgSrc,className:"card-img-top"}),Object(m.jsx)("h5",{className:"card-title",children:this.props.title})]})}}]),a}(i.a.Component),p=v,j=(new XMLHttpRequest,"https://api.themoviedb.org/3/discover/movie?api_key=e98409c238903704a47f9d04c21bf484&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_watch_monetization_types=flatrate"),b="https://api.themoviedb.org/3/discover/movie?api_key=e98409c238903704a47f9d04c21bf484&with_genres=18&primary_release_year=2014",g=function(e){Object(f.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={firstListAllreadyDone:!1,bestDrama2014AllreadyDone:!1,firstListInfo:[],bestDrama2014Info:[]},e.firstList="no",e.f1=fetch(j,{method:"GET"}).then((function(e){if(e.ok)return e.json();throw new Error("Request failed!")}),(function(e){})).then((function(e){return s=e,e})),e.bestDrama2014="no",e.f2=fetch(b,{method:"GET"}).then((function(e){if(e.ok)return e.json();throw new Error("Request failed!")}),(function(e){})).then((function(e){return r=e,e})),e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;if(!this.state.firstListAllreadyDone)var t=setInterval((function(){void 0!=s&&(e.setState({firstListInfo:s,firstListAllreadyDone:!0}),clearInterval(t))}),100);if(!this.state.bestDrama2014AllreadyDone)var a=setInterval((function(){void 0!=r&&(e.setState({bestDrama2014Info:r,bestDrama2014AllreadyDone:!0}),clearInterval(a))}),100);return Object(m.jsxs)("div",{className:"d-flex flex-column overflow-auto",children:[Object(m.jsxs)("div",{className:"d-flex overflow-auto",children:[Object(m.jsx)("h3",{children:"First list"}),function(){if(e.state.firstListAllreadyDone)return e.state.firstListInfo.results.map((function(e){return Object(m.jsx)("div",{className:"card col-2 col-sm-2 col-md-2 col-lg-2 align-items-center",children:Object(m.jsx)(p,{title:e.title,imgSrc:e.poster_path,overview:e.overview},e.title+"MovieCard")})}))}()]}),Object(m.jsxs)("div",{className:"d-flex overflow-auto",children:[Object(m.jsx)("h3",{children:"Best Drama 2014"}),function(){if(e.state.bestDrama2014AllreadyDone)return e.state.bestDrama2014Info.results.map((function(e){return Object(m.jsx)("div",{className:"card col-2 col-sm-2 col-md-2 col-lg-2 align-items-center",children:Object(m.jsx)(p,{title:e.title,imgSrc:e.poster_path,overview:e.overview},e.title+"MovieCard")})}))}()]})]})}}]),a}(i.a.Component),x=g,O=a(6),y=function(e){Object(f.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={info:[],allreadyDone:!1,cast:[],castAllreadyDone:!1},e.url="https://api.themoviedb.org/3/".concat(e.props.movie.media_type,"/").concat(e.props.movie.id,"?api_key=e98409c238903704a47f9d04c21bf484&append_to_response=videos,images"),e.f=fetch(e.url,{method:"GET"}).then((function(e){if(e.ok)return e.json();throw new Error("Request failed!")}),(function(e){})).then((function(t){return e.allInfo=t,t})),e.castUrl="https://api.themoviedb.org/3/".concat(e.props.movie.media_type,"/").concat(e.props.movie.id,"?api_key=e98409c238903704a47f9d04c21bf484&append_to_response=credits"),e.g=fetch(e.castUrl,{method:"GET"}).then((function(e){if(e.ok)return e.json();throw new Error("Request failed!")}),(function(e){})).then((function(t){return e.castInfo=t,t})),e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;if(!this.state.allreadyDone)var t=setInterval((function(){void 0!=e.allInfo&&(e.setState({info:e.allInfo,allreadyDone:!0}),clearInterval(t))}),100);if(!this.state.castAllreadyDone)var a=setInterval((function(){void 0!=e.castInfo&&(e.setState({cast:e.castInfo.credits.cast,castAllreadyDone:!0}),clearInterval(a))}),100);return Object(m.jsx)("div",{className:"container d-flex rounded-3 flex-column overflow-auto",children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:" d-flex flex-row justify-content-between align-items-center",children:[this.props.checkName(this.props.movie),Object(m.jsx)("button",{id:"close-button",type:"button",className:"btn-close text-reset me-3","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),function(e){var t=e.media_type;if(void 0!=t)return"tv"==t?Object(m.jsxs)("p",{children:[e.media_type,"-Series"]}):Object(m.jsx)("p",{children:e.media_type})}(this.props.movie),Object(m.jsxs)("div",{className:"d-flex flex-column",children:[function(e){var t="";return void 0!=e.poster_path&&(t=Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,className:"card-img-top col-3 posters"})),t}(this.state.info),Object(m.jsxs)("div",{className:"d-flex flex-column",children:[function(e){if(void 0!=e.overview)return Object(m.jsx)("p",{children:e.overview})}(this.state.info),Object(m.jsx)("div",{children:function(e){if(void 0!=e.genres)return e.genres.map((function(e){return Object(m.jsx)("span",{className:"badge rounded-pill bg-secondary",children:e.name})}))}(this.state.info)}),Object(m.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(m.jsx)("i",{className:"fa fa-star ratingStar"}),Object(m.jsxs)("div",{className:"d-flex flex-column ",children:[this.props.checkRating(this.state.info),function(e){if(void 0!=e.vote_count)return Object(m.jsx)("h6",{children:e.vote_count})}(this.state.info)]})]})]})]}),Object(m.jsx)("div",{className:"container d-flex overflow-auto",children:this.state.cast.map((function(e){return Object(m.jsx)("div",{className:"card col-2 col-sm-2 col-md-2 col-lg-2 align-items-center",children:Object(m.jsxs)("div",{className:"card-body d-flex flex-column justify-content-between",children:[Object(m.jsx)("h6",{className:"m-3",children:e.name}),Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.profile_path,className:"card-img-top col-3 posters"})]})})}))})]})})}}]),a}(i.a.Component),_=y,N=function(e){Object(f.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).canvasId="#"+s.props.movie.id,s.state={showComponent:!1},s._onButtonClick=s._onButtonClick.bind(Object(O.a)(s)),s}return Object(h.a)(a,[{key:"_onButtonClick",value:function(){this.setState({showComponent:!0})}},{key:"render",value:function(){function e(e){var t="";return void 0!=e.first_air_date?t=Object(m.jsx)("h6",{className:"forSearch",children:e.first_air_date.split("-")[0]}):void 0!=e.release_date&&(t=Object(m.jsx)("h6",{className:"forSearch",children:e.release_date.split("-")[0]})),t}function t(e){var t="";return void 0!=e.title?t=Object(m.jsx)("h5",{className:"forSearch",children:e.title}):void 0!=e.original_name&&(t=Object(m.jsx)("h5",{className:"forSearch",children:e.original_name})),t}function a(e){var t="";return void 0!=e.vote_average&&(t=Object(m.jsxs)("h6",{className:"forSearch",children:[e.vote_average,"/10"]})),t}function s(e){var t="";return void 0!=e.id&&(t=e.id),t}return Object(m.jsxs)("div",{className:"d-flex mt-auto forSearch",children:[Object(m.jsxs)("div",{onClick:this._onButtonClick,className:"d-flex rounded-3 forSearch",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasTop"+s(this.props.movie),"aria-controls":"offcanvasTop"+s(this.props.movie),children:[function(e){var t="";return void 0!=e.backdrop_path?t=Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.backdrop_path,className:"card-img-top col-3 forSearch"}):void 0!=e.poster_path&&(t=Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,className:"card-img-top col-3 forSearch"})),t}(this.props.movie),Object(m.jsxs)("div",{className:"d-flex flex-column col-9 forSearch",children:[t(this.props.movie),e(this.props.movie),Object(m.jsxs)("div",{className:"d-flex forSearch",children:[Object(m.jsx)("i",{className:"fa fa-star ratingStar forSearch"}),a(this.props.movie)]})]})]}),Object(m.jsx)("div",{className:"offcanvas offcanvas-top container d-flex flex-column align-items-center forSearch",tabIndex:"-1",id:"offcanvasTop"+s(this.props.movie),"aria-labelledby":"offcanvasTopLabel",children:Object(m.jsx)(_,{movie:this.props.movie,checkName:t,checkId:s,checkRating:a,checkDate:e},function(e){var t="";return void 0!=e.title?t=e.title:void 0!=e.original_name&&(t=e.original_name),t+" "+e.id}(this.props.movie)+" OffCanvas")})]})}}]),a}(i.a.Component),I=function(e){Object(f.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={results:[]},e.searchInput=i.a.createRef(),e.handleValueChange=function(t){var a=Object(O.a)(e);setTimeout((function(){if(n!=t.target.value){n=t.target.value;var e=document.getElementById("search");if(""!=n&&n.replace(/\s/g,"").length){console.log("hey"),a.state.results=[];var s,r="https://api.themoviedb.org/3/search/multi?api_key=e98409c238903704a47f9d04c21bf484&language=en-US&query="+n.replace(" ","%")+"&page=1&include_adult=false";fetch(r,{method:"GET"}).then((function(e){if(e.ok)return e.json();throw new Error("Request failed!")}),(function(e){})).then((function(e){return s=e,e}));e.classList.add("searchWithInput"),document.onclick=function(t){""!=document.getElementById("search").value?e.classList.add("searchWithInput"):e.classList.contains("searchWithInput")&&e.classList.remove("searchWithInput"),t.target.classList.contains("forSearch")?(e.classList.add("searchWithInput"),document.getElementById("searchResultsDiv").style.display="block"):void 0!=document.getElementById("searchResultsDiv")&&(document.getElementById("searchResultsDiv").style.display="none")};var c=setInterval((function(){void 0!=s&&(a.setState({results:s}),clearInterval(c))}),100)}else void 0!=document.getElementById("searchResultsDiv")&&(document.getElementById("searchResultsDiv").innerHTML="")}}),1e3)},e}return Object(h.a)(a,[{key:"nameId",value:function(e){var t="";return void 0!=e.title?t=e.title:void 0!=e.original_name&&(t=e.original_name),t+" "+e.id}},{key:"checkEmptyResults",value:function(e){var t=this;return void 0!=e&&e!=[]?(e=e.slice(0,10)).map((function(e){return Object(m.jsx)("div",{className:"forSearch list-group-item list-group-item-action d-flex tester oneResult",children:Object(m.jsx)(N,{movie:e},t.nameId(e)+" MoviePage")})})):""}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"container h-25 forSearch",children:[Object(m.jsx)("div",{className:"d-flex justify-content-end h-100 forSearch",children:Object(m.jsxs)("div",{className:"searchbar forSearch",children:[Object(m.jsx)("input",{id:"search",className:"search_input forSearch",type:"text",name:"",placeholder:"Search...",ref:this.searchInput,onChange:this.handleValueChange}),Object(m.jsx)("a",{href:"#",className:"search_icon forSearch",children:Object(m.jsx)("i",{className:"fas fa-search"})})]})}),Object(m.jsx)("div",{id:"searchResultsDiv",className:"serachResults forSearch",children:this.checkEmptyResults(this.state.results.results)})]})}}]),a}(i.a.Component),k=I,S=function(e){Object(f.a)(a,e);var t=Object(u.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(m.jsx)("div",{id:"searchDiv",className:"d-flex flex-column forSearch",children:Object(m.jsx)(k,{handleChange:this.handleValueChange},"searchBarKey")})}}]),a}(i.a.Component),w=S;a(14);l.a.render(Object(m.jsx)(x,{},"root"),document.getElementById("root")),l.a.render(Object(m.jsx)(w,{}),document.getElementById("searchButton"))}},[[15,1,2]]]);
//# sourceMappingURL=main.4230ad06.chunk.js.map